{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{toast}from'react-toastify';import{useNavigate}from'react-router-dom';var initialState={favorites:localStorage.getItem(\"favorite-countries\")?JSON.parse(localStorage.getItem(\"favorite-countries\")):[],favoriteQuantity:0};var favoriteSlice=createSlice({name:\"favorite\",initialState:initialState,reducers:{ADD_TO_FAVORITE:function ADD_TO_FAVORITE(state,action){var favoriteIndex=state.favorites.findIndex(function(f){return f.name.common===action.payload.name.common;});if(favoriteIndex===-1){state.favorites.push(action.payload);toast.success(\"\".concat(action.payload.name.common,\"  added to Favorite!!!\"),{position:toast.POSITION.TOP_RIGHT});localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));}else{state.favorites.splice(favoriteIndex,1);toast.error(\"\".concat(action.payload.name.common,\"  removed from Favorite!!!\"));localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));}},CALCULATE_FAVORITE_QUANTITY:function CALCULATE_FAVORITE_QUANTITY(state){state.favoriteQuantity=state.favorites.length;//console.log(\"Calculate_favorite=>\",state.favoriteQuantity)\n},REMOVE_FROM_FAVORITE:function REMOVE_FROM_FAVORITE(state,action){var favoriteIndex=state.favorites.findIndex(function(f){return f.name.common===action.payload.name.common;});state.favorites.splice(favoriteIndex,1);toast.error(\"\".concat(action.payload.name.common,\"  removed from Favorite!!!\"));localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));},CLEAR_ALL_FAVORITE:function CLEAR_ALL_FAVORITE(state,action){var favoriteIndex=state.favorites.findIndex(function(f){return f.name.common===action.payload.name.common;});state.favorites=[];localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));state.favorites.splice(favoriteIndex,1);toast.error(\"Your Favorite cart is cleared\");localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));}}});var _favoriteSlice$action=favoriteSlice.actions,ADD_TO_FAVORITE=_favoriteSlice$action.ADD_TO_FAVORITE,CALCULATE_FAVORITE_QUANTITY=_favoriteSlice$action.CALCULATE_FAVORITE_QUANTITY,REMOVE_FROM_FAVORITE=_favoriteSlice$action.REMOVE_FROM_FAVORITE,CLEAR_ALL_FAVORITE=_favoriteSlice$action.CLEAR_ALL_FAVORITE;export{ADD_TO_FAVORITE,CALCULATE_FAVORITE_QUANTITY,REMOVE_FROM_FAVORITE,CLEAR_ALL_FAVORITE};export var selectFavoritesCountries=function selectFavoritesCountries(state){return state.favorite.favorites;};export var selectFavoriteQuantity=function selectFavoriteQuantity(state){return state.favorite.favoriteQuantity;};export default favoriteSlice.reducer;","map":{"version":3,"names":["createSlice","toast","useNavigate","initialState","favorites","localStorage","getItem","JSON","parse","favoriteQuantity","favoriteSlice","name","reducers","ADD_TO_FAVORITE","state","action","favoriteIndex","findIndex","f","common","payload","push","success","concat","position","POSITION","TOP_RIGHT","setItem","stringify","splice","error","CALCULATE_FAVORITE_QUANTITY","length","REMOVE_FROM_FAVORITE","CLEAR_ALL_FAVORITE","_favoriteSlice$action","actions","selectFavoritesCountries","favorite","selectFavoriteQuantity","reducer"],"sources":["/home/mesfin/Desktop/countries-app2/src/redux/favoriteSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\n\n\n\nconst initialState = {\n    favorites:localStorage.getItem(\"favorite-countries\")?JSON.parse(localStorage.getItem(\"favorite-countries\")):[],\n    favoriteQuantity:0,\n\n}\n\nconst favoriteSlice = createSlice({\n  name: \"favorite\",\n  initialState,\n  reducers: {\n    ADD_TO_FAVORITE(state, action) {\n    \n        const favoriteIndex = state.favorites.findIndex((f) => f.name.common === action.payload.name.common);\n        if (favoriteIndex === -1) {\n          state.favorites.push(action.payload);\n         \n          toast.success(`${action.payload.name.common}  added to Favorite!!!`,{\n            position: toast.POSITION.TOP_RIGHT\n          })\n          \n          \n          localStorage.setItem(\"favorite-countries\", JSON.stringify(state.favorites));\n        \n        } else {\n          state.favorites.splice(favoriteIndex, 1);\n          toast.error(`${action.payload.name.common}  removed from Favorite!!!`)\n          localStorage.setItem(\"favorite-countries\", JSON.stringify(state.favorites));\n      \n        \n          \n      \n    }\n   \n    },\n    CALCULATE_FAVORITE_QUANTITY(state){\n        state.favoriteQuantity = state.favorites.length;\n        //console.log(\"Calculate_favorite=>\",state.favoriteQuantity)\n\n    },\n    REMOVE_FROM_FAVORITE(state,action){\n        const favoriteIndex = state.favorites.findIndex((f)=> f.name.common === action.payload.name.common);\n        state.favorites.splice(favoriteIndex,1);\n        toast.error(`${action.payload.name.common}  removed from Favorite!!!`)\n        localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));\n    },\n    CLEAR_ALL_FAVORITE(state,action){\n       const favoriteIndex = state.favorites.findIndex((f)=> f.name.common === action.payload.name.common);\n        state.favorites = [];\n        localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));\n        state.favorites.splice(favoriteIndex,1);\n        toast.error(\"Your Favorite cart is cleared\")\n        localStorage.setItem(\"favorite-countries\",JSON.stringify(state.favorites));\n\n    },\n\n\n\n    \n  }\n});\n\nexport const {ADD_TO_FAVORITE,CALCULATE_FAVORITE_QUANTITY,REMOVE_FROM_FAVORITE,CLEAR_ALL_FAVORITE} = favoriteSlice.actions\nexport const selectFavoritesCountries = (state) => state.favorite.favorites\nexport const selectFavoriteQuantity = (state) => state.favorite.favoriteQuantity\n\nexport default favoriteSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}