{"ast":null,"code":"import _regeneratorRuntime from\"/home/mesfin/Desktop/countries-app2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mesfin/Desktop/countries-app2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';var initialState={countries:[],filteredCountries:[]};//createAsyncThunk=> create an action creator that returns a promise\nexport var fetchCountries=createAsyncThunk('country/fetchCountries',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://restcountries.com/v3.1/all');case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);})));var countrySlice=createSlice({name:'country',initialState:initialState,reducers:{SEARCH_BY_NAME:function SEARCH_BY_NAME(state,action){var _action$payload=action.payload,countries=_action$payload.countries,searchTerm=_action$payload.searchTerm;var tempCountries=countries.filter(function(country){return country.name.common.toLowerCase().includes(searchTerm.toLowerCase());});state.filteredCountries=tempCountries;},SEARCH_BY_REGION:function SEARCH_BY_REGION(state,action){state.filteredCountries=action.payload;}},//extraReducers=> handle actions that are not created by createSlice\nextraReducers:function extraReducers(builder){builder.addCase(fetchCountries.fulfilled,function(state,action){state.countries=action.payload;state.filteredCountries=action.payload;});}});var _countrySlice$actions=countrySlice.actions,SEARCH_BY_NAME=_countrySlice$actions.SEARCH_BY_NAME,SEARCH_BY_REGION=_countrySlice$actions.SEARCH_BY_REGION;export{SEARCH_BY_NAME,SEARCH_BY_REGION};export var selectCountries=function selectCountries(state){var _state$country;return state===null||state===void 0?void 0:(_state$country=state.country)===null||_state$country===void 0?void 0:_state$country.countries;};export var selectFilteredCountries=function selectFilteredCountries(state){return state.country.filteredCountries;};export default countrySlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","countries","filteredCountries","fetchCountries","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","abrupt","data","stop","countrySlice","name","reducers","SEARCH_BY_NAME","state","action","_action$payload","payload","searchTerm","tempCountries","filter","country","common","toLowerCase","includes","SEARCH_BY_REGION","extraReducers","builder","addCase","fulfilled","_countrySlice$actions","actions","selectCountries","_state$country","selectFilteredCountries","reducer"],"sources":["/home/mesfin/Desktop/countries-app2/src/redux/countrySlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n  countries: [],\n  filteredCountries: [],\n};\n//createAsyncThunk=> create an action creator that returns a promise\nexport const fetchCountries = createAsyncThunk(\n  'country/fetchCountries',\n  async () => {\n    const response = await axios.get('https://restcountries.com/v3.1/all');\n   \n    return response.data;\n  }\n);\n\n \nconst countrySlice = createSlice({\n  name: 'country',\n  initialState,\n  reducers: {\n     SEARCH_BY_NAME(state, action) {\n      const { countries, searchTerm } = action.payload;\n      const tempCountries = countries.filter((country) =>\n        country.name.common.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n      state.filteredCountries = tempCountries;\n    },\n    \n     SEARCH_BY_REGION(state, action) {\n      state.filteredCountries = action.payload;\n    },\n    \n  },\n  //extraReducers=> handle actions that are not created by createSlice\n  extraReducers: (builder) => {\n    builder.addCase(fetchCountries.fulfilled, (state, action) => {\n      state.countries = action.payload;\n      state.filteredCountries = action.payload;\n    });\n  },\n});\nexport const { SEARCH_BY_NAME,SEARCH_BY_REGION } = countrySlice.actions;\nexport const selectCountries = (state) => state?.country?.countries;\nexport const selectFilteredCountries = (state) => state.country.filteredCountries;\n\nexport default countrySlice.reducer;\n"],"mappings":"kQAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,GAAM,CAAAC,YAAY,CAAG,CACnBC,SAAS,CAAE,EAAE,CACbC,iBAAiB,CAAE,EACrB,CAAC,CACD;AACA,MAAO,IAAM,CAAAC,cAAc,CAAGL,gBAAgB,CAC5C,wBAAwB,cAAAM,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACxB,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACyB,CAAAd,KAAK,CAACe,GAAG,CAAC,oCAAoC,CAAC,QAAhEN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAK,MAAA,UAEPR,QAAQ,CAACS,IAAI,0BAAAN,QAAA,CAAAO,IAAA,MAAAX,OAAA,GACrB,GACF,CAGD,GAAM,CAAAY,YAAY,CAAGtB,WAAW,CAAC,CAC/BuB,IAAI,CAAE,SAAS,CACfpB,YAAY,CAAZA,YAAY,CACZqB,QAAQ,CAAE,CACPC,cAAc,UAAAA,eAACC,KAAK,CAAEC,MAAM,CAAE,CAC7B,IAAAC,eAAA,CAAkCD,MAAM,CAACE,OAAO,CAAxCzB,SAAS,CAAAwB,eAAA,CAATxB,SAAS,CAAE0B,UAAU,CAAAF,eAAA,CAAVE,UAAU,CAC7B,GAAM,CAAAC,aAAa,CAAG3B,SAAS,CAAC4B,MAAM,CAAC,SAACC,OAAO,QAC7C,CAAAA,OAAO,CAACV,IAAI,CAACW,MAAM,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,UAAU,CAACK,WAAW,EAAE,CAAC,GACrE,CACDT,KAAK,CAACrB,iBAAiB,CAAG0B,aAAa,CACzC,CAAC,CAEAM,gBAAgB,UAAAA,iBAACX,KAAK,CAAEC,MAAM,CAAE,CAC/BD,KAAK,CAACrB,iBAAiB,CAAGsB,MAAM,CAACE,OAAO,CAC1C,CAEF,CAAC,CACD;AACAS,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CAACC,OAAO,CAAClC,cAAc,CAACmC,SAAS,CAAE,SAACf,KAAK,CAAEC,MAAM,CAAK,CAC3DD,KAAK,CAACtB,SAAS,CAAGuB,MAAM,CAACE,OAAO,CAChCH,KAAK,CAACrB,iBAAiB,CAAGsB,MAAM,CAACE,OAAO,CAC1C,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACK,IAAAa,qBAAA,CAA4CpB,YAAY,CAACqB,OAAO,CAAxDlB,cAAc,CAAAiB,qBAAA,CAAdjB,cAAc,CAACY,gBAAgB,CAAAK,qBAAA,CAAhBL,gBAAgB,CAA0B,OAAAZ,cAAA,CAAAY,gBAAA,EACxE,MAAO,IAAM,CAAAO,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIlB,KAAK,MAAAmB,cAAA,OAAK,CAAAnB,KAAK,SAALA,KAAK,kBAAAmB,cAAA,CAALnB,KAAK,CAAEO,OAAO,UAAAY,cAAA,iBAAdA,cAAA,CAAgBzC,SAAS,GACnE,MAAO,IAAM,CAAA0C,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAIpB,KAAK,QAAK,CAAAA,KAAK,CAACO,OAAO,CAAC5B,iBAAiB,GAEjF,cAAe,CAAAiB,YAAY,CAACyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}