{"ast":null,"code":"import React,{useState}from'react';import'./Country.css';import{Link,useNavigate}from'react-router-dom';import{ADD_TO_FAVORITE,CALCULATE_FAVORITE_QUANTITY}from'../../redux/favoriteSlice';import{useDispatch}from'react-redux';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Country=/*#__PURE__*/React.memo(function(_ref){var country=_ref.country;var dispatch=useDispatch();var navigate=useNavigate();var handleClick=function handleClick(){navigate(\"/countries/\".concat(country.name.common),{state:{flag:country.flags.png,story:country.flags.alt,language:Object.values(country.languages).join(', '),capital:country.capital,neighbors:country.borders}});};//  check if country is in favorite\n// const isFavorite = () => {\n//   const favCountries = JSON.parse(localStorage.getItem('favCountries'));\n//   return favCountries !==null && favCountries.some((favCountry) => favCountry.name.common === country.name.common);\n// };\nvar addToFavorite=function addToFavorite(country){dispatch(ADD_TO_FAVORITE(country));dispatch(CALCULATE_FAVORITE_QUANTITY());};return/*#__PURE__*/_jsx(\"div\",{className:\"country --card\",onClick:handleClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"country-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:country.flags.png,alt:country.name.common,className:\"country-flag\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"country-info --p\",children:[/*#__PURE__*/_jsx(\"h3\",{children:country.name.common}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Population:\"}),\" \",country.population]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Region:\"}),\" \",country.region]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Capital:\"}),\" \",country.capital]}),country.languages&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Languages:\"}),\" \",Object.values(country.languages).join(', ')]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"--btn --btn-danger --btn-block \",onClick:function onClick(){return addToFavorite(country);},children:\"Add to favorite\"})]})});});export default Country;","map":{"version":3,"names":["React","useState","Link","useNavigate","ADD_TO_FAVORITE","CALCULATE_FAVORITE_QUANTITY","useDispatch","toast","jsx","_jsx","jsxs","_jsxs","Country","memo","_ref","country","dispatch","navigate","handleClick","concat","name","common","state","flag","flags","png","story","alt","language","Object","values","languages","join","capital","neighbors","borders","addToFavorite","className","onClick","children","src","population","region"],"sources":["/home/mesfin/Desktop/countries-app2/src/components/country/Country.js"],"sourcesContent":["import React, { useState } from 'react';\nimport  './Country.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ADD_TO_FAVORITE, CALCULATE_FAVORITE_QUANTITY } from '../../redux/favoriteSlice';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\n\nconst Country = React.memo(({ country }) => {\n \n  \n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    navigate(`/countries/${country.name.common}`, {\n      state: {\n        flag: country.flags.png,\n        story: country.flags.alt,\n        language: Object.values(country.languages).join(', '),\n        capital: country.capital,\n        neighbors: country.borders,\n      },\n    });\n  };\n\n \n  //  check if country is in favorite\n  // const isFavorite = () => {\n  //   const favCountries = JSON.parse(localStorage.getItem('favCountries'));\n  //   return favCountries !==null && favCountries.some((favCountry) => favCountry.name.common === country.name.common);\n  // };\n  \n  \n\n  const addToFavorite = (country) => {\n \n\n    dispatch(ADD_TO_FAVORITE(country));\n    dispatch(CALCULATE_FAVORITE_QUANTITY());\n  \n   \n   \n  };\n \n\n  return (\n    <div className=\"country --card\" onClick={handleClick}>\n      <div className=\"country-container\">\n        <img src={country.flags.png} alt={country.name.common} className=\"country-flag\" />\n        <div className=\"country-info --p\">\n          <h3>{country.name.common}</h3>\n          <p>\n            <strong>Population:</strong> {country.population}\n          </p>\n          <p>\n            <strong>Region:</strong> {country.region}\n          </p>\n          <p>\n            <strong>Capital:</strong> {country.capital}\n          </p>\n          {country.languages && (\n            <p>\n              <strong>Languages:</strong> {Object.values(country.languages).join(', ')}\n            </p>\n          )}\n        </div>\n        <button className=\"--btn --btn-danger --btn-block \" onClick={() => addToFavorite(country)}>\n              Add to favorite\n            </button>\n       \n        {/* <>\n          {countryIsFavorite ? (\n            <button className=\"--btn --btn-danger --btn-block disabled \" disabled>\n              Add to favorite\n            </button>\n          ) : (\n            <button className=\"--btn --btn-danger --btn-block \" onClick={() => addToFavorite(country)}>\n              Add to favorite\n            </button>\n          )}\n        </> */}\n      </div>\n    </div>\n  );\n});\n\nexport default Country;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}