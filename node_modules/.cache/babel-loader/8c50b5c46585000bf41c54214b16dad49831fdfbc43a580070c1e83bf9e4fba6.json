{"ast":null,"code":"import _slicedToArray from\"/home/mesfin/Desktop/countries-app2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{fetchCountries,selectCountries,selectFilteredCountries,SEARCH_BY_NAME}from'../../redux/countrySlice';import\"./CountriesList.css\";import Country from'../country/Country';import Regions from'../regions/Regions';import Search from'../search/Search';import CountryPagination from'../pagination/CountryPagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CountriesList=function CountriesList(){var dispatch=useDispatch();var countries=useSelector(selectCountries);var filteredCountries=useSelector(selectFilteredCountries);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var handleSearch=function handleSearch(e){setSearchTerm(e.target.value);};var filterCountries=function filterCountries(){dispatch(SEARCH_BY_NAME({countries:countries,searchTerm:searchTerm}));};useEffect(function(){dispatch(fetchCountries());},[dispatch]);useEffect(function(){if(countries){filterCountries();}},[searchTerm,countries,dispatch]);var startIndex=(currentPage-1)*9;var endIndex=startIndex+9;var currentCountries=filteredCountries.slice(startIndex,endIndex);var handlePageChange=function handlePageChange(event,value){setCurrentPage(value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"--flex-between --py\",children:[/*#__PURE__*/_jsx(Search,{searchTerm:searchTerm,onFilter:handleSearch}),/*#__PURE__*/_jsx(Regions,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"countries-container container --grid-25 --py2\",children:currentCountries.length===0?/*#__PURE__*/_jsx(\"h3\",{className:\"--flex-center\",children:\"No Country Found!!!\"}):currentCountries.map(function(country,index){return/*#__PURE__*/_jsx(\"div\",{className:\"countries\",children:/*#__PURE__*/_jsx(Country,{country:country})},index);})})]}),/*#__PURE__*/_jsx(CountryPagination,{count:filteredCountries.length,page:currentPage,onChange:handlePageChange})]});};export default CountriesList;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchCountries","selectCountries","selectFilteredCountries","SEARCH_BY_NAME","Country","Regions","Search","CountryPagination","jsx","_jsx","jsxs","_jsxs","CountriesList","dispatch","countries","filteredCountries","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","currentPage","setCurrentPage","handleSearch","e","target","value","filterCountries","startIndex","endIndex","currentCountries","slice","handlePageChange","event","className","children","onFilter","length","map","country","index","count","page","onChange"],"sources":["/home/mesfin/Desktop/countries-app2/src/components/countries-list/CountriesList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCountries, selectCountries, selectFilteredCountries, SEARCH_BY_NAME } from '../../redux/countrySlice';\nimport \"./CountriesList.css\";\nimport Country from '../country/Country';\nimport Regions from '../regions/Regions';\nimport Search from '../search/Search';\nimport CountryPagination from '../pagination/CountryPagination';\n\nconst CountriesList = () => {\n  const dispatch = useDispatch();\n  const countries = useSelector(selectCountries);\n  const filteredCountries = useSelector(selectFilteredCountries);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const filterCountries = () => {\n    dispatch(SEARCH_BY_NAME({ countries, searchTerm }));\n  };\n\n  useEffect(() => {\n    dispatch(fetchCountries());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (countries) {\n      filterCountries();\n    }\n  }, [searchTerm, countries, dispatch]);\n\n  const startIndex = (currentPage - 1) * 9;\n  const endIndex = startIndex + 9;\n  const currentCountries = filteredCountries.slice(startIndex, endIndex);\n\n  const handlePageChange = (event, value) => {\n    setCurrentPage(value);\n  };\n\n  return (\n    <div className='container'>\n      <section>\n        <div className=\"--flex-between --py\">\n          <Search searchTerm={searchTerm} onFilter={handleSearch} />\n          <Regions   />\n        </div>\n        <div className=\"countries-container container --grid-25 --py2\">\n\n          {currentCountries.length === 0 ? (\n            <h3 className=\"--flex-center\">No Country Found!!!</h3>\n          ) : (\n\n            currentCountries.map((country,index) => (\n              <div className=\"countries\" key={index}>\n                <Country country={country} />\n              </div>\n            ))\n          )}\n\n        </div>\n      </section>\n          <CountryPagination\n            count={filteredCountries.length}\n            page={currentPage}\n            onChange={handlePageChange}\n          />\n    </div>\n  );\n};\n\nexport default CountriesList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}